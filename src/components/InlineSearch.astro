---
const { placeholder = "Buscar en artículos…", maxResults = 8 } = Astro.props;

const focusRing =
  "focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-purple-500";
---

<div class="fc-search-root relative w-full max-w-2xl" data-max-results={maxResults}>
  <form role="search" class="w-full" onsubmit="return false">
    <label class="sr-only">Buscar en artículos</label>

    <input
      class={`fc-search-input w-full rounded-xl border border-gray-200 bg-white px-4 py-3 shadow-sm ${focusRing}`}
      type="search"
      inputmode="search"
      autocomplete="off"
      placeholder={placeholder}
    />
  </form>

  <div
    class="fc-search-panel absolute left-0 right-0 mt-2 hidden rounded-2xl bg-white shadow-lg ring-1 ring-black/10 overflow-hidden z-50"
    role="listbox"
    aria-label="Resultados de búsqueda"
  >
    <div class="fc-search-status px-4 py-3 text-sm text-gray-600 border-b">
      Escribe para buscar.
    </div>

    <div class="fc-search-results max-h-96 overflow-auto"></div>

    <div class="px-4 py-3 text-xs text-gray-500 border-t">
      Busca en <strong>title_es</strong> y <strong>source</strong>
    </div>
  </div>
</div>
